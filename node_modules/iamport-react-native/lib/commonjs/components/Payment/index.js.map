{"version":3,"names":["_react","_interopRequireWildcard","require","_ValidationForPayment","_interopRequireDefault","_ErrorOnParams","_reactNative","_constants","_IamportUrl","_reactNativeWebview","_styles","_Loading","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Payment","_ref","userCode","tierCode","data","loading","callback","webviewSource","setWebviewSource","useState","html","IMPConst","WEBVIEW_SOURCE_HTML","isWebViewLoaded","setIsWebViewLoaded","showLoading","setShowLoading","isInicisTransPaid","setIsInicisTransPaid","webview","createRef","smilepayRef","useRef","redirectUrl","M_REDIRECT_URL","m_redirect_url","undefined","trim","useEffect","pg","startsWith","Platform","OS","current","baseUrl","SMILEPAY_BASE_URL","handleOpenURL","event","pay_method","iamportUrl","IamportUrl","url","_webview$current","injectJavaScript","getInicisTransQuery","_data$app_scheme","_webview$current2","queryParameters","getQuery","scheme","niceTransRedirectionUrl","app_scheme","toLowerCase","callbackparam1","getStringifiedQuery","Linking","addEventListener","removeLoadingNeeded","isIframeWayPayment","customer_uid","validation","ValidationForPayment","getIsValid","loadingContainer","webViewContainer","viewStyles","createElement","Fragment","containerStyle","ref","source","mixedContentMode","onLoadEnd","_webview$current5","popup","_webview$current3","_webview$current4","JSON","stringify","onMessage","e","encoded","encodeURIComponent","nativeEvent","decoded","decodeURIComponent","response","parse","originWhitelist","sharedCookiesEnabled","onShouldStartLoadWithRequest","request","isAppUrl","launchApp","catch","code","message","imp_success","error_code","error_msg","isPaymentOver","isIframeLoaded","View","style","getMessage","_default","exports"],"sourceRoot":"../../../../src","sources":["components/Payment/index.tsx"],"mappings":"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"}